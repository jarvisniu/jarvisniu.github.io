<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Point on Line Test</title>
	<script src="../build/bu.js"></script>
	<link rel="stylesheet" href="css/example.css">
	<script type="text/javascript">
		var bu = new Bu.App({
			renderer: {
				showKeyPoints: true,
				cursor: 'crosshair',
			},
			data: {
				mousePos: new Bu.Point(),
				randomizer: new Bu.ShapeRandomizer(),
			},
			objects: function () {
				var line = this.randomizer.generateLine();
				var polyline = this.randomizer.generatePolyline();
				return {
					line,
					polyline,
				};
			},
			hierarchy: {
				line: {},
				polyline: {},
			},
			init: function () {
				this.randomizer.setRange(this.$renderer.width, this.$renderer.height);
			},
			events: {
				mouseup: function (e) {
					var o = this.$objects;
					// Randomize the lines
					this.randomizer.randomize([o.line, o.polyline]);
				},
				mousemove: function (e) {
					var o = this.$objects;

					this.mousePos.x = e.offsetX;
					this.mousePos.y = e.offsetY;

					if (this.mousePos.isNear(o.line))
						o.line.style('hover');
					else
						o.line.style();

					if (this.mousePos.isNear(o.polyline))
						o.polyline.style('hover');
					else
						o.polyline.style();
				},
			},
		});
	</script>
</head>

<body>
<div id="info">Move cursor over the line to test. Click to change another group of lines.</div>
</body>

</html>
