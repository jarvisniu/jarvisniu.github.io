// ClipMeter.js - https://github.com/jarvisniu/ClipMeter.js
 function ClipMeter(b){var b=b||{},s=b.align||"right",d=b.width||80,f=b.height||40,b=b.opacity||0.9,p=this,c=document.createElement("canvas"),a=c.getContext("2d"),g=[],i=0,j=0,q=0,n=0,r=0,m=-1,k=[],l=0;this.fps=0;c.width=d;c.height=f;c.style.width=d+"px";c.style.height=f+"px";c.style.border="solid 2px #363";c.style.position="absolute";c.style[s]="8px";c.style.top="8px";c.style.opacity=b;a.font="10px Verdana";a.textBaseline="top";document.body.appendChild(c);this.start=function(){m=j;j=performance.now();
var a=j-m;l+=a;k.push(a);k.length>d&&(l-=k[0],k.shift())};this.tick=function(){q=performance.now();if(-1<m){deltaTime=q-j;var c=f*(deltaTime/(j-m));g.push(c);i+=c;g.length>d&&(i-=g[0],g.shift());var b=g.length,h,o,c=performance.now();a.fillStyle="#040";a.fillRect(0,0,d,f);a.strokeStyle="#080";a.beginPath();for(var e=0;e<b;e++)h=d-b+e+0.5,a.moveTo(h,f),a.lineTo(h,f-g[e]);a.stroke();a.strokeStyle="#8F8";a.beginPath();for(e=0;e<b;e++)h=d-b+e+0.5,o=f-g[e],0<e?a.lineTo(h,o):a.moveTo(h,o);a.stroke();31<
d&&(a.fillStyle="#8F8",a.textAlign="right",0==n||750<c-r?(b=Math.floor(100*(i/b/f)),a.fillText(b+"%",d-2,0),n=b,r=c):a.fillText(n+"%",d-2,0));74<d&&(p.fps=Math.floor(1E3/l*k.length),a.textAlign="left",a.fillText(p.fps+"FPS",2,0))}}};
