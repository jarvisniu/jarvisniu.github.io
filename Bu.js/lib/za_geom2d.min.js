// Za.js - https://github.com/jarvisniu/Za.js
var Za=Za||{};Za.version="0.1.0";
(function(a){function d(){var c=this;this.text=function(b){c.each(function(e){e.textContent=b});return this};this.html=function(b){c.each(function(e){e.innerHTML=b});return this};this.style=function(b,e){c.each(function(c){var a=c.getAttribute("style"),d={};a&&a.split(";").each(function(b){b=b.split(":");d[b[0]]=b[1]});d[b]=e;var a="",h;for(h in d)a+=h+": "+d[h]+"; ";c.setAttribute("style",a)});return this};this.hasClass=function(b){if(0==c.length)return!1;for(var e=0;e<c.length;e++)if(!(c[e].getAttribute("class")||
"").split(/ +/).contains(b))return!1;return!0};this.toggleClass=function(b){c.each(function(e){var c=(e.getAttribute("class")||"").split(/ +/);c.contains(b)?c.remove(b):c.push(b);0<c.length?e.setAttribute("class",c.join(" ")):e.removeAttribute("class")});return this};this.addClass=function(b){c.each(function(c){var a=(c.getAttribute("class")||"").split(/ +/);a.contains(b)||(a.push(b),c.setAttribute("class",a.join(" ")))});return this};this.removeClass=function(b){c.each(function(c){var a=(c.getAttribute("class")||
"").split(/ +/);a.contains(b)&&(a.remove(b),0<a.length?c.setAttribute("class",a.join(" ")):c.removeAttribute("class"))});return this};this.attr=function(b,a){a=a||"";c.each(function(c){c.setAttribute(b,a)});return this};this.hasAttr=function(b){if(0==c.length)return!1;for(var a=0;a<c.length;a++)if(!c[a].hasAttribute(b))return!1;return!0};this.removeAttr=function(b){c.each(function(a){a.removeAttribute(b)});return this};this.append=function(b){c.each(function(a,d){var g;g=-1<"svg line rect circle ellipse polyline polygon path text".indexOf(b.toLowerCase())?
document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b);c[d]=a.appendChild(g)});return this};this.on=function(b,a){c.each(function(c){c.addEventListener(b,a)});return this};this.off=function(b,a){c.each(function(c){c.removeEventListener(b,a)});return this}}a.$=function(a){var b=[];"string"===typeof a&&(b=[].slice.call(document.querySelectorAll(a)));d.apply(b);return b};a.$.ready=function(a){document.addEventListener("DOMContentLoaded",a)};a.$.ajax=function(a,b){b||("object"==
typeof a?(b=a,a=b.url):b={});b.method=b.method||"GET";void 0===b.async&&(b.async=!0);var d=new XMLHttpRequest;d.onreadystatechange=function(){4==d.readyState&&(200==d.status?b.success&&b.success(d.responseText,d.status,d):b.error&&b.error(d,d.status),b.complete&&b.complete(d,d.status))};d.open(b.method,a,b.async,b.username,b.password);d.send(null)}})(window||this);Array.prototype.each=Array.prototype.each||function(a){for(var d=0;d<this.length;d++)a(this[d])};
Array.prototype.map=Array.prototype.map||function(a){for(var d=[],c=0;c<this.length;c++)d.push(a(this[c]));return d};Array.prototype.contains=Array.prototype.contains||function(a){return-1!==this.indexOf(a)};Array.prototype.clear=Array.prototype.clear||function(){this.length=0};Array.prototype.insertAt=Array.prototype.insertAt||function(a,d){this.splice(a,0,d)};Array.prototype.removeAt=Array.prototype.removeAt||function(a){this.splice(a,1)};
Array.prototype.remove=Array.prototype.remove||function(a){for(var d=this.indexOf(a);0<=d;)this.removeAt(d),d=this.indexOf(a)};Math.bevel=Math.bevel||function(a,d){return Math.sqrt(a*a+d*d)};Math.rand=Math.rand||function(a,d){void 0==d&&(d=a,a=0);return Math.random()*(d-a)+a};Math.round1=Math.round1||function(a){return Math.floor(10*a)/10};Math.round2=Math.round2||function(a){return Math.floor(100*a)/100};Math.round3=Math.round3||function(a){return Math.floor(1E3*a)/1E3};
Math.round4=Math.round4||function(a){return Math.floor(1E4*a)/1E4};Za=Za||{};
Za.EventListenerPattern=function(){var a={};this.addEventListener=function(d,c){var b=a[d];void 0==b&&(b=a[d]=[]);-1===b.indexOf(c)&&b.push(c)};this.addOnceEventListener=function(a,c){c.once=!0;this.addEventListener(a,c)};this.removeEventListener=function(d,c){var b=a[d];if(void 0!==b){var e=b.indexOf(c);-1!==e&&b.splice(e,1)}};this.hasEventListener=function(d,c){var b=a[d];return void 0!==b&&-1<b.indexOf(c)?!0:!1};this.clearEventListeners=function(d){d=a[d];void 0!==d&&(d.length=0)};this.listEventListeners=
function(d){d=a[d];if(void 0!==d){for(var c=[],b=0;b<d.length;b++)c.push(d[b].name);return c}return null};this.triggerEvent=function(d,c){var b=a[d];if(void 0!==b){c=c||{};c.target=this;for(var e=0;e<b.length;e++){var f=b[e];f.call(this,c);f.once&&(b.splice(e,1),e--)}}};this.on=this.addEventListener;this.off=function(a,c){void 0!==c?this.removeEventListener(a,c):this.clearEventListeners(a)};this.once=this.addOnceEventListener};Za=Za||{};
Za.FPS=function(a,d){a=a||Za.FPS.count++;var c="FPS["+a+"]: ",b=1E3*(d||1),e=0,f=Date.now();this.update=function(){e++;var a=Date.now();a-f>b&&(console.log(c+e),f=a,e=0)}};Za.FPS.count=0;Za=Za||{};
Za.FileDownloader=function(){function a(){g.href=c.replace("(*)",f);var a=g,b;b=g.href;var e=b.lastIndexOf("/");b=b.substring(e+1);a.download=b;g.click();setTimeout(d,100)}function d(){f++;f<=e?(l.Progress=f-b+1,h&&h(),a()):k&&k()}var c,b,e,f,g,k=null,h=null,l=this;this.Count=this.Progress=0;this.setJob=function(a,d,f){c=a;b=parseInt(d);e=parseInt(f);l.Count=e-b+1};this.startDownload=function(c,d){k=c||null;h=d||null;f=b;a()};g=document.createElement("a")};Za=Za||{};
Za.selectFile=function(){var a,d;document.addEventListener("DOMContentLoaded",function(){a=document.createElement("input");a.type="file";a.multiple="true";a.addEventListener("change",function(c){void 0!==d&&0<a.files.length&&d(a.files)})});return function(c){d=c;a.click()}}();Za=Za||{};
Za.Timer=function(){var a=Date.now,d=a(),c=d;this.times={};this.timeDeltas={};this.start=function(){d=c=a();for(var b in this.times)this.times[b]=this.timeDeltas[b]=0};this.stop=function(){return a()-d};this.time=function(b){var e=a(),f=e-d;void 0!==b&&(void 0!==this.times[b]&&0!==this.times[b]&&console.error("Timer.time(name): duplicated name: "+b),this.times[b]=f,this.timeDeltas[b]=e-c);c=e;return f};this.timeDelta=function(b){var e=a(),f=e-c;void 0!==b&&(void 0!==this.times[b]&&0!==this.times[b]&&
console.error("Timer.timeDelta(name): duplicated name: "+b),this.times[b]=e-d,this.timeDeltas[b]=f);c=e;return f}};
