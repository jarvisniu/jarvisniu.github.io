<html>
<head>
	<meta charset="utf8">
	<title>URL参数分析器</title>
	<script>
	function analysis(){
		var url = document.getElementById("inputUrl").value;
		var keys=[], values=[];

		// Domain
		keys[0] = "Domain";
		keys[1] = "Path";
		var indexComma = url.indexOf(":");
		var indexQuestion = url.indexOf("?");
		var fullPath = url.substring(indexComma + 3, indexQuestion);
		var indexLastSlash = fullPath.indexOf("/");
		values[0] = fullPath.substring(0, indexLastSlash);
		values[1] = fullPath.substring(indexLastSlash);
		var str = keys[0] + " : " + values[0] + "<br>";
		str += keys[1] + " : " + values[1] + "<br>";

		// Pairs
		var pairs = url.substring(indexQuestion+1).split("&");
		for(var i = 0; i < pairs.length; i++){
			var splits = pairs[i].split("=");
			keys[i + 2] = splits[0];
			values[i + 2] = splits[1];
			str += keys[i + 2] + " : " + values[i + 2] + "<br>";
		}
		document.getElementById("divResult").innerHTML = str;
	}
	</script>
</head>
<body>
	<input id="inputUrl" type="input" style="width:525px;" value="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?summary=%E6%88%91%E5%9C%A8%20%23%E7%94%A8%E7%8C%8E%E8%B1%B9%E6%B5%8F%E8%A7%88%E5%99%A8%E7%8E%A9FlappyBird%23%EF%BC%8C%E6%9C%AC%E6%AC%A1%E5%BE%97%E5%88%86100%E5%88%86%EF%BC%81%E4%B8%8D%E6%9C%8D%E5%90%97%EF%BC%9F%E9%A9%AC%E4%B8%8A%E4%B8%8B%E8%BD%BD%E7%8C%8E%E8%B1%B9%E8%B7%9F%E6%88%91%E6%9D%A5PK!&url=http%3A%2F%2Fwww.liebao.cn%2Fstore%2Flego_game%2Fflappy%2Fflappybird.html&pics=http://store.liebao.cn/admin/extensions/game/flappybird/4c59094af6da5a70f42237cf9075ad36.png&title=%E7%94%A8%E7%8C%8E%E8%B1%B9%E6%B5%8F%E8%A7%88%E5%99%A8%E7%8E%A9FlappyBird&desc=%E7%94%A8%E7%8C%8E%E8%B1%B9%E6%B5%8F%E8%A7%88%E5%99%A8%E7%8E%A9FlappyBird"></input>
	<input type="button" onclick="analysis();" value="Analysis"></input>
	<div id="divResult" style="width:600px; height:300px; border: solid 1px gray; overflow: scroll;"></div>
</body>
</html>