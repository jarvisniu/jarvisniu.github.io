var Za=Za||{};Za.version="0.1.0";(function(a){function b(){var d=this;this.text=function(e){d.each(function(f){f.textContent=e});return this};this.html=function(e){d.each(function(f){f.innerHTML=e});return this};this.style=function(e,f){d.each(function(j){var k=j.getAttribute("style");var h={};if(k){k.split(";").each(function(l){var i=l.split(":");h[i[0]]=i[1]})}h[e]=f;k="";for(var g in h){k+=g+": "+h[g]+"; "}j.setAttribute("style",k)});return this};this.hasClass=function(f){if(d.length==0){return false}for(var h=0;h<d.length;h++){var e=d[h].getAttribute("class")||"";var g=e.split(/ +/);if(!g.contains(f)){return false}}return true};this.toggleClass=function(e){d.each(function(h){var f=h.getAttribute("class")||"";var g=f.split(/ +/);if(g.contains(e)){g.remove(e)}else{g.push(e)}if(g.length>0){h.setAttribute("class",g.join(" "))}else{h.removeAttribute("class")}});return this};this.addClass=function(e){d.each(function(h){var f=h.getAttribute("class")||"";var g=f.split(/ +/);if(!g.contains(e)){g.push(e);h.setAttribute("class",g.join(" "))}});return this};this.removeClass=function(e){d.each(function(h){var f=h.getAttribute("class")||"";var g=f.split(/ +/);if(g.contains(e)){g.remove(e);if(g.length>0){h.setAttribute("class",g.join(" "))}else{h.removeAttribute("class")}}});return this};this.attr=function(e,f){f=f||"";d.each(function(g){g.setAttribute(e,f)});return this};this.hasAttr=function(e){if(d.length==0){return false}for(var f=0;f<d.length;f++){if(!d[f].hasAttribute(e)){return false}}return true};this.removeAttr=function(e){d.each(function(f){f.removeAttribute(e)});return this};var c="svg line rect circle ellipse polyline polygon path text";this.append=function(e){d.each(function(h,g){var f;if(c.indexOf(e.toLowerCase())>-1){f=document.createElementNS("http://www.w3.org/2000/svg",e)}else{f=document.createElement(e)}d[g]=h.appendChild(f)});return this};this.on=function(e,f){d.each(function(g){g.addEventListener(e,f)});return this};this.off=function(e,f){d.each(function(g){g.removeEventListener(e,f)});return this}}a.$=function(c){var d=[];if(typeof(c)==="string"){d=[].slice.call(document.querySelectorAll(c))}b.apply(d);return d};a.$.ready=function(c){document.addEventListener("DOMContentLoaded",c)};a.$.ajax=function(c,d){if(!d){if(typeof(c)=="object"){d=c;c=d.url}else{d={}}}d.method=d.method||"GET";if(d.async===undefined){d.async=true}var e=new XMLHttpRequest();e.onreadystatechange=function(){if(e.readyState==4){if(e.status==200){if(!!d.success){d.success(e.responseText,e.status,e)}}else{if(!!d.error){d.error(e,e.status)}}if(!!d.complete){d.complete(e,e.status)}}};e.open(d.method,c,d.async,d.username,d.password);e.send(null)}})(window||this);Array.prototype.each=Array.prototype.each||function(b){for(var a=0;a<this.length;a++){b(this[a])}};Array.prototype.map=Array.prototype.map||function(c){var a=[];for(var b=0;b<this.length;b++){a.push(c(this[b]))}return a};Array.prototype.contains=Array.prototype.contains||function(a){return this.indexOf(a)!==-1};Array.prototype.clear=Array.prototype.clear||function(){this.length=0};Array.prototype.insertAt=Array.prototype.insertAt||function(a,b){this.splice(a,0,b)};Array.prototype.removeAt=Array.prototype.removeAt||function(a){this.splice(a,1)};Array.prototype.remove=Array.prototype.remove||function(b){var a=this.indexOf(b);while(a>=0){this.removeAt(a);a=this.indexOf(b)}};Math.bevel=Math.bevel||function(a,b){return Math.sqrt(a*a+b*b)};Math.rand=Math.rand||function(b,a){if(a==undefined){a=b;b=0}return Math.random()*(a-b)+b};Math.round1=Math.round1||function(a){return Math.floor(a*10)/10};Math.round2=Math.round2||function(a){return Math.floor(a*100)/100};Math.round3=Math.round3||function(a){return Math.floor(a*1000)/1000};Math.round4=Math.round4||function(a){return Math.floor(a*10000)/10000};var Za=Za||{};Za.i18n=function(e){var p=this;var a;var f=[];var o;var c;var d="za-i18n";this.lang="";function n(){for(var r in e){if(!e.hasOwnProperty(r)){continue}if(r.indexOf("_")<0){var s=e[r];for(var q in s){if(!c&&q!="en"){c=q}if(!o&&q.substring(0,2)=="en"){o=q}f.push(q)}break}}p.lang=a=h(e);document.addEventListener("DOMContentLoaded",function(){j();i();m()})}function l(q){if(e[q]!==undefined){if(e[q][a]!==undefined){return e[q][a]}else{return q}}else{console.warn("Language data missing key: "+q);return q}}function h(s){var r=k();if(r){return r}if(navigator||navigator.languages){var t=navigator.languages;for(var q in t){if(!t.hasOwnProperty(q)){continue}if(f.indexOf(t[q])>-1){return t[q]}}}else{console.error("You browser doesn't support language detection.")}return s.__default__||o||c}function b(v){var u=v.parentNode.innerHTML;var s=u.match(/{{ *[A-z|0-9_-]+ *}}/g);if(u.length>0&&s){var x=[];for(var r in s){if(!s.hasOwnProperty(r)){continue}x[r]=s[r].replace(/{{ */,"").replace(/ *}}/,"")}for(var r in s){if(!s.hasOwnProperty(r)){continue}var w=s[r];var q=x[r];u=u.replace(w,"<span "+d+'="'+q+'">'+l(q)+"</span>")}v.parentNode.innerHTML=u}}function j(s){s=s||document.body;var r=s.childNodes;for(var q in r){if(!r.hasOwnProperty(q)){continue}var t=r[q];if(t instanceof HTMLElement){j(t)}if(t instanceof Text){b(t)}}}this.avialableLangs=function(){return f};this.switchLang=function(q){if(f.indexOf(q)>-1){a=q}else{a=a==o?c:o}m();i();g(a);this.lang=a};function m(){var q=document.querySelectorAll("["+d+"]");for(var r=0;r<q.length;r++){q[r].innerHTML=l(q[r].getAttribute(d))}}function i(){if(e.__title__){document.title=l("__title__")}}function g(q){if(localStorage){localStorage.ji18n=q}}function k(){if(localStorage&&localStorage.ji18n){return localStorage.ji18n}}n()};var Za=Za||{};Za.EventListenerPattern=function(){var a={};this.addEventListener=function(c,d){var b=a[c];if(b==undefined){b=a[c]=[]}if(b.indexOf(d)===-1){b.push(d)}};this.addOnceEventListener=function(b,c){c.once=true;this.addEventListener(b,c)};this.removeEventListener=function(d,e){var c=a[d];if(c!==undefined){var b=c.indexOf(e);if(b!==-1){c.splice(b,1)}}};this.hasEventListener=function(c,d){var b=a[c];if(b!==undefined&&b.indexOf(d)>-1){return true}return false};this.clearEventListeners=function(c){var b=a[c];if(b!==undefined){b.length=0}};this.listEventListeners=function(d){var c=a[d];if(c!==undefined){var e=[];for(var b=0;b<c.length;b++){e.push(c[b].name)}return e}else{return null}};this.triggerEvent=function(d,e){var c=a[d];if(c!==undefined){e=e||{};e.target=this;for(var b=0;b<c.length;b++){var f=c[b];f.call(this,e);if(f.once){c.splice(b,1);b--}}}};this.on=this.addEventListener;this.off=function(b,c){if(c!==undefined){this.removeEventListener(b,c)}else{this.clearEventListeners(b)}};this.once=this.addOnceEventListener};
